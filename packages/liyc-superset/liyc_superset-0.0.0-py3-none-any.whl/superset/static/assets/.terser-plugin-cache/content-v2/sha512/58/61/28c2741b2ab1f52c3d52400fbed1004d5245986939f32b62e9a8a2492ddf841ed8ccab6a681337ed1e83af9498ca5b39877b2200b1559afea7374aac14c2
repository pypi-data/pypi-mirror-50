{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1672:function(e,t,n){var r;!function(o,a,i){if(o){for(var s,u={8:\"backspace\",9:\"tab\",13:\"enter\",16:\"shift\",17:\"ctrl\",18:\"alt\",20:\"capslock\",27:\"esc\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\",45:\"ins\",46:\"del\",91:\"meta\",93:\"meta\",224:\"meta\"},c={106:\"*\",107:\"+\",109:\"-\",110:\".\",111:\"/\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\"},l={\"~\":\"`\",\"!\":\"1\",\"@\":\"2\",\"#\":\"3\",$:\"4\",\"%\":\"5\",\"^\":\"6\",\"&\":\"7\",\"*\":\"8\",\"(\":\"9\",\")\":\"0\",_:\"-\",\"+\":\"=\",\":\":\";\",'\"':\"'\",\"<\":\",\",\">\":\".\",\"?\":\"/\",\"|\":\"\\\\\"},p={option:\"alt\",command:\"meta\",return:\"enter\",escape:\"esc\",plus:\"+\",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?\"meta\":\"ctrl\"},f=1;f<20;++f)u[111+f]=\"f\"+f;for(f=0;f<=9;++f)u[f+96]=f.toString();v.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},v.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},v.prototype.trigger=function(e,t){return this._directMap[e+\":\"+t]&&this._directMap[e+\":\"+t]({},e),this},v.prototype.reset=function(){return this._callbacks={},this._directMap={},this},v.prototype.stopCallback=function(e,t){if((\" \"+t.className+\" \").indexOf(\" mousetrap \")>-1)return!1;if(function e(t,n){return null!==t&&t!==a&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if(\"composedPath\"in e&&\"function\"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return\"INPUT\"==t.tagName||\"SELECT\"==t.tagName||\"TEXTAREA\"==t.tagName||t.isContentEditable},v.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},v.init=function(){var e=v(a);for(var t in e)\"_\"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),o.Mousetrap=v,e.exports&&(e.exports=v),void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent(\"on\"+t,n)}function b(e){if(\"keypress\"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function d(e){return\"shift\"==e||\"ctrl\"==e||\"alt\"==e||\"meta\"==e}function h(e,t,n){return n||(n=function(){if(!s)for(var e in s={},u)e>95&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[e]?\"keydown\":\"keypress\"),\"keypress\"==n&&t.length&&(n=\"keydown\"),n}function m(e,t){var n,r,o,a=[];for(n=function(e){return\"+\"===e?[\"+\"]:(e=e.replace(/\\+{2}/g,\"+plus\")).split(\"+\")}(e),o=0;o<n.length;++o)r=n[o],p[r]&&(r=p[r]),t&&\"keypress\"!=t&&l[r]&&(r=l[r],a.push(\"shift\")),d(r)&&a.push(r);return{key:r,modifiers:a,action:t=h(r,a,t)}}function v(e){var t=this;if(e=e||a,!(t instanceof v))return new v(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,i=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function c(e,n,o,a,i,s){var u,c,l,p,f=[],y=o.type;if(!t._callbacks[e])return[];for(\"keyup\"==y&&d(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(c=t._callbacks[e][u],(a||!c.seq||r[c.seq]==c.level)&&y==c.action&&(\"keypress\"==y&&!o.metaKey&&!o.ctrlKey||(l=n,p=c.modifiers,l.sort().join(\",\")===p.sort().join(\",\")))){var b=!a&&c.combo==i,h=a&&c.seq==a&&c.level==s;(b||h)&&t._callbacks[e].splice(u,1),f.push(c)}return f}function l(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function p(e){\"number\"!=typeof e.which&&(e.which=e.keyCode);var n=b(e);n&&(\"keyup\"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push(\"shift\"),e.altKey&&t.push(\"alt\"),e.ctrlKey&&t.push(\"ctrl\"),e.metaKey&&t.push(\"meta\"),t}(e),e):o=!1)}function f(e,t,a,i){function c(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function p(t){l(a,t,e),\"keyup\"!==i&&(o=b(t)),setTimeout(u,10)}r[e]=0;for(var f=0;f<t.length;++f){var y=f+1===t.length?p:c(i||m(t[f+1]).action);h(t[f],y,i,e,f)}}function h(e,n,r,o,a){t._directMap[e+\":\"+r]=n;var i,s=(e=e.replace(/\\s+/g,\" \")).split(\" \");s.length>1?f(e,s,n,r):(i=m(e,r),t._callbacks[i.key]=t._callbacks[i.key]||[],c(i.key,i.modifiers,{type:i.action},o,e,a),t._callbacks[i.key][o?\"unshift\":\"push\"]({callback:n,modifiers:i.modifiers,action:i.action,seq:o,level:a,combo:e}))}t._handleKey=function(e,t,n){var r,o=c(e,t,n),a={},p=0,f=!1;for(r=0;r<o.length;++r)o[r].seq&&(p=Math.max(p,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=p)continue;f=!0,a[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else f||l(o[r].callback,n,o[r].combo);var y=\"keypress\"==n.type&&i;n.type!=s||d(e)||y||u(a),i=f&&\"keydown\"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)h(e[r],t,n)},y(e,\"keypress\",p),y(e,\"keydown\",p),y(e,\"keyup\",p)}}(\"undefined\"!=typeof window?window:null,\"undefined\"!=typeof window?document:null)},1673:function(e,t,n){var r={\"./af\":1006,\"./af.js\":1006,\"./ar\":1007,\"./ar-dz\":1008,\"./ar-dz.js\":1008,\"./ar-kw\":1009,\"./ar-kw.js\":1009,\"./ar-ly\":1010,\"./ar-ly.js\":1010,\"./ar-ma\":1011,\"./ar-ma.js\":1011,\"./ar-sa\":1012,\"./ar-sa.js\":1012,\"./ar-tn\":1013,\"./ar-tn.js\":1013,\"./ar.js\":1007,\"./az\":1014,\"./az.js\":1014,\"./be\":1015,\"./be.js\":1015,\"./bg\":1016,\"./bg.js\":1016,\"./bm\":1017,\"./bm.js\":1017,\"./bn\":1018,\"./bn.js\":1018,\"./bo\":1019,\"./bo.js\":1019,\"./br\":1020,\"./br.js\":1020,\"./bs\":1021,\"./bs.js\":1021,\"./ca\":1022,\"./ca.js\":1022,\"./cs\":1023,\"./cs.js\":1023,\"./cv\":1024,\"./cv.js\":1024,\"./cy\":1025,\"./cy.js\":1025,\"./da\":1026,\"./da.js\":1026,\"./de\":1027,\"./de-at\":1028,\"./de-at.js\":1028,\"./de-ch\":1029,\"./de-ch.js\":1029,\"./de.js\":1027,\"./dv\":1030,\"./dv.js\":1030,\"./el\":1031,\"./el.js\":1031,\"./en-SG\":1032,\"./en-SG.js\":1032,\"./en-au\":1033,\"./en-au.js\":1033,\"./en-ca\":1034,\"./en-ca.js\":1034,\"./en-gb\":1035,\"./en-gb.js\":1035,\"./en-ie\":1036,\"./en-ie.js\":1036,\"./en-il\":1037,\"./en-il.js\":1037,\"./en-nz\":1038,\"./en-nz.js\":1038,\"./eo\":1039,\"./eo.js\":1039,\"./es\":1040,\"./es-do\":1041,\"./es-do.js\":1041,\"./es-us\":1042,\"./es-us.js\":1042,\"./es.js\":1040,\"./et\":1043,\"./et.js\":1043,\"./eu\":1044,\"./eu.js\":1044,\"./fa\":1045,\"./fa.js\":1045,\"./fi\":1046,\"./fi.js\":1046,\"./fo\":1047,\"./fo.js\":1047,\"./fr\":1048,\"./fr-ca\":1049,\"./fr-ca.js\":1049,\"./fr-ch\":1050,\"./fr-ch.js\":1050,\"./fr.js\":1048,\"./fy\":1051,\"./fy.js\":1051,\"./ga\":1052,\"./ga.js\":1052,\"./gd\":1053,\"./gd.js\":1053,\"./gl\":1054,\"./gl.js\":1054,\"./gom-latn\":1055,\"./gom-latn.js\":1055,\"./gu\":1056,\"./gu.js\":1056,\"./he\":1057,\"./he.js\":1057,\"./hi\":1058,\"./hi.js\":1058,\"./hr\":1059,\"./hr.js\":1059,\"./hu\":1060,\"./hu.js\":1060,\"./hy-am\":1061,\"./hy-am.js\":1061,\"./id\":1062,\"./id.js\":1062,\"./is\":1063,\"./is.js\":1063,\"./it\":1064,\"./it-ch\":1065,\"./it-ch.js\":1065,\"./it.js\":1064,\"./ja\":1066,\"./ja.js\":1066,\"./jv\":1067,\"./jv.js\":1067,\"./ka\":1068,\"./ka.js\":1068,\"./kk\":1069,\"./kk.js\":1069,\"./km\":1070,\"./km.js\":1070,\"./kn\":1071,\"./kn.js\":1071,\"./ko\":1072,\"./ko.js\":1072,\"./ku\":1073,\"./ku.js\":1073,\"./ky\":1074,\"./ky.js\":1074,\"./lb\":1075,\"./lb.js\":1075,\"./lo\":1076,\"./lo.js\":1076,\"./lt\":1077,\"./lt.js\":1077,\"./lv\":1078,\"./lv.js\":1078,\"./me\":1079,\"./me.js\":1079,\"./mi\":1080,\"./mi.js\":1080,\"./mk\":1081,\"./mk.js\":1081,\"./ml\":1082,\"./ml.js\":1082,\"./mn\":1083,\"./mn.js\":1083,\"./mr\":1084,\"./mr.js\":1084,\"./ms\":1085,\"./ms-my\":1086,\"./ms-my.js\":1086,\"./ms.js\":1085,\"./mt\":1087,\"./mt.js\":1087,\"./my\":1088,\"./my.js\":1088,\"./nb\":1089,\"./nb.js\":1089,\"./ne\":1090,\"./ne.js\":1090,\"./nl\":1091,\"./nl-be\":1092,\"./nl-be.js\":1092,\"./nl.js\":1091,\"./nn\":1093,\"./nn.js\":1093,\"./pa-in\":1094,\"./pa-in.js\":1094,\"./pl\":1095,\"./pl.js\":1095,\"./pt\":1096,\"./pt-br\":1097,\"./pt-br.js\":1097,\"./pt.js\":1096,\"./ro\":1098,\"./ro.js\":1098,\"./ru\":1099,\"./ru.js\":1099,\"./sd\":1100,\"./sd.js\":1100,\"./se\":1101,\"./se.js\":1101,\"./si\":1102,\"./si.js\":1102,\"./sk\":1103,\"./sk.js\":1103,\"./sl\":1104,\"./sl.js\":1104,\"./sq\":1105,\"./sq.js\":1105,\"./sr\":1106,\"./sr-cyrl\":1107,\"./sr-cyrl.js\":1107,\"./sr.js\":1106,\"./ss\":1108,\"./ss.js\":1108,\"./sv\":1109,\"./sv.js\":1109,\"./sw\":1110,\"./sw.js\":1110,\"./ta\":1111,\"./ta.js\":1111,\"./te\":1112,\"./te.js\":1112,\"./tet\":1113,\"./tet.js\":1113,\"./tg\":1114,\"./tg.js\":1114,\"./th\":1115,\"./th.js\":1115,\"./tl-ph\":1116,\"./tl-ph.js\":1116,\"./tlh\":1117,\"./tlh.js\":1117,\"./tr\":1118,\"./tr.js\":1118,\"./tzl\":1119,\"./tzl.js\":1119,\"./tzm\":1120,\"./tzm-latn\":1121,\"./tzm-latn.js\":1121,\"./tzm.js\":1120,\"./ug-cn\":1122,\"./ug-cn.js\":1122,\"./uk\":1123,\"./uk.js\":1123,\"./ur\":1124,\"./ur.js\":1124,\"./uz\":1125,\"./uz-latn\":1126,\"./uz-latn.js\":1126,\"./uz.js\":1125,\"./vi\":1127,\"./vi.js\":1127,\"./x-pseudo\":1128,\"./x-pseudo.js\":1128,\"./yo\":1129,\"./yo.js\":1129,\"./zh-cn\":1130,\"./zh-cn.js\":1130,\"./zh-hk\":1131,\"./zh-hk.js\":1131,\"./zh-tw\":1132,\"./zh-tw.js\":1132};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1673},3023:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return s});var r=n(0),o=n.n(r),a=n(3024),i=n.n(a);n(3371),n(3370);function s(e){return o.a.createElement(\"span\",{className:\"BootstrapSliderWrapper\"},o.a.createElement(i.a,e))}},3370:function(e,t,n){},4695:function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return p}),n.d(t,\"a\",function(){return f}),n.d(t,\"c\",function(){return b});var r=n(5804),o=n(4713),a=n(4696);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=.25,c={LAT_MIN:-90,LAT_MAX:90,LNG_MIN:-180,LNG_MAX:180};function l(e){var t=o.extent(e,function(e){return e[1]}),n=o.extent(e,function(e){return e[0]}),r=t[0]===t[1]?function(e){return[e[0]-u<c.LAT_MIN?c.LAT_MIN:e[0]-u,e[1]+u>c.LAT_MAX?c.LAT_MAX:e[1]+u]}(t):t,a=n[0]===n[1]?function(e){return[e[0]-u<c.LNG_MIN?c.LNG_MIN:e[0]-u,e[1]+u>c.LNG_MAX?c.LNG_MAX:e[1]+u]}(n):n;return[[a[0],r[0]],[a[1],r[1]]]}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{var o=l(t);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},Object(r.a)({height:e.height,width:e.width,padding:n,bounds:o}))}catch(t){return console.error(\"Could not auto zoom\",t),e}}function f(e,t,n,r){var o,i,s=e,u=n;return s.js_tooltip&&(u=Object(a.a)(s.js_tooltip)),u&&(o=function(e){e.picked?t({content:u(e),x:e.x,y:e.y+30}):t(null)}),s.js_onclick_href?i=function(e){var t=Object(a.a)(s.js_onclick_href)(e);window.open(t)}:s.table_filter&&void 0!==r&&(i=function(e){return r(e.object[s.line_column])}),{onClick:i,onHover:o,pickable:Boolean(o)}}var y={p1:.01,p5:.05,p95:.95,p99:.99};function b(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"sum\",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return\"count\"===t?function(e){return e.length}:(e=t in y?function(e,r){var a;return a=n?e.sort(function(e,t){return o.ascending(n(e),n(t))}):e.sort(o.ascending),o.quantile(a,y[t],r)}:o[t],n?function(t){return e(t.map(n))}:function(t){return e(t)})}},4696:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return f});var r=n(4754),o=n.n(r),a=n(4755),i=n.n(a),s=n(4713),u=n(4697);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={console:console,_:i.a,colors:u,d3array:s};function f(e,t,n){var r={},a=\"SAFE_EVAL_\"+Math.floor(1e6*Math.random());r[a]={};var i=a+\"=\"+e,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p,{},t);Object.keys(s).forEach(function(e){r[e]=s[e]});try{return o.a.runInNewContext(i,r,n),r[a]}catch(e){return function(){return e}}}},4697:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"hexToRGB\",function(){return o});var r=n(4758);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;if(!e)return[0,0,0,t];var n=Object(r.a)(e);return[n.r,n.g,n.b,t]}},4702:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return O});var r=n(375),o=n.n(r),a=n(0),i=n.n(a),s=n(2),u=n.n(s),c=n(4757),l=n(4703);n(4756),n(4718);function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=2e3,w={viewport:u.a.object.isRequired,layers:u.a.array.isRequired,setControlValue:u.a.func,mapStyle:u.a.string,mapboxApiAccessToken:u.a.string.isRequired,onViewportChange:u.a.func},O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,(n=!(o=m(t).call(this,e))||\"object\"!==p(o)&&\"function\"!=typeof o?v(r):o).tick=n.tick.bind(v(n)),n.onViewportChange=n.onViewportChange.bind(v(n)),n.state={previousViewport:e.viewport,timer:setInterval(n.tick,g)},n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,i.a.Component),n=t,a=[{key:\"getDerivedStateFromProps\",value:function(e,t){return e.viewport!==t.viewport?{viewport:b({},e.viewport),previousViewport:t.viewport}:null}}],(r=[{key:\"componentWillUnmount\",value:function(){clearInterval(this.state.timer)}},{key:\"onViewportChange\",value:function(e){var t=Object.assign({},e),n=b({},this.state.previousViewport,{},t);this.props.onViewportChange(n)}},{key:\"tick\",value:function(){var e=this;if(this.state&&!o()(this.state.previousViewport,this.props.viewport)){var t=this.props.setControlValue,n=this.props.viewport;t&&t(\"viewport\",n),this.setState(function(){return{previousViewport:e.props.viewport}})}}},{key:\"layers\",value:function(){return this.props.layers.some(function(e){return\"function\"==typeof e})?this.props.layers.map(function(e){return\"function\"==typeof e?e():e}):this.props.layers}},{key:\"render\",value:function(){var e=this.props.viewport;return i.a.createElement(c.a,f({},e,{mapStyle:this.props.mapStyle,onViewportChange:this.onViewportChange,mapboxApiAccessToken:this.props.mapboxApiAccessToken}),i.a.createElement(l.i,f({},e,{layers:this.layers(),initWebGLParameters:!0})))}}])&&h(n.prototype,r),a&&h(n,a),t}();O.propTypes=w,O.defaultProps={mapStyle:\"light\",onViewportChange:function(){},setControlValue:function(){}}},4707:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return y});var r=n(0),o=n.n(r),a=n(2),i=n.n(a);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f={label:i.a.string.isRequired,value:i.a.string.isRequired},y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),c(this,l(t).apply(this,arguments))}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:\"render\",value:function(){return o.a.createElement(\"div\",null,this.props.label,o.a.createElement(\"strong\",null,this.props.value))}}])&&u(n.prototype,r),a&&u(n,a),t}();y.propTypes=f},4718:function(e,t,n){},4719:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return u});var r=n(28),o=n.n(r);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var i=[1,0,1,0,0,0,0];function s(e,t){var n=parseInt(o()(t).format(\"x\"),10);return parseInt(o()(t).add(e).format(\"x\"),10)-n}var u=function(e,t){var n,r,u=o()(Math.min.apply(Math,a(e))),c=o()(Math.max.apply(Math,a(e)));if(-1!==t.indexOf(\"/\")){var l=t.split(\"/\",2);l[0].endsWith(\"Z\")?(r=o()(l[0]),n=o.a.duration(l[1])):(r=o()(l[1]),n=o.a.duration(l[0]))}else r=function(e,t){var n=o()(e).subtract(t),r=e.toArray(),a=n.toArray(),s=r.map(function(e,t){return a[t]!==e}).indexOf(!0),u=r.map(function(e,t){if(t===s){var n=e-a[t];return e-(e-i[t])%n}return t<s||-1===s?e:i[t]});return o()(u)}(u,n=o.a.duration(t));for(var p=o()(r);p<u;)p.add(n);for(;p>u;)p.subtract(n);for(var f=o()(r);f>c;)f.subtract(n);for(;f<c;)f.add(n);var y=null!=t?[p,o()(p).add(n)]:[p,f],b=e.every(function(e){return null===e});return{start:parseInt(p.format(\"x\"),10),end:parseInt(f.format(\"x\"),10),getStep:s.bind(this,n),values:y.map(function(e){return parseInt(e.format(\"x\"),10)}),disabled:b}}},4720:function(e,t,n){\"use strict\";var r=n(0),o=n.n(r),a=n(2),i=n.n(a),s=n(4702),u=n(1672),c=n.n(u),l=n(39),p=n(3023);n(4726);function f(e){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m={start:i.a.number.isRequired,step:i.a.number.isRequired,end:i.a.number.isRequired,values:i.a.array.isRequired,onChange:i.a.func,loopDuration:i.a.number,maxFrames:i.a.number,orientation:i.a.oneOf([\"horizontal\",\"vertical\"]),reversed:i.a.bool,disabled:i.a.bool,range:i.a.bool},v=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,(n=!(o=b(t).call(this,e))||\"object\"!==f(o)&&\"function\"!=typeof o?d(r):o).state={intervalId:null};var a=e.end-e.start,i=Math.min(e.maxFrames,a/e.step),s=a/i;return n.intervalMilliseconds=e.loopDuration/i,n.increment=s<e.step?e.step:s-s%e.step,n.onChange=n.onChange.bind(d(n)),n.play=n.play.bind(d(n)),n.pause=n.pause.bind(d(n)),n.stepBackward=n.stepBackward.bind(d(n)),n.stepForward=n.stepForward.bind(d(n)),n.getPlayClass=n.getPlayClass.bind(d(n)),n.formatter=n.formatter.bind(d(n)),n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:\"componentDidMount\",value:function(){c.a.bind([\"space\"],this.play)}},{key:\"componentWillUnmount\",value:function(){c.a.unbind([\"space\"])}},{key:\"onChange\",value:function(e){this.props.onChange(e.target.value),null!=this.state.intervalId&&this.pause()}},{key:\"getPlayClass\",value:function(){return null==this.state.intervalId?\"fa fa-play fa-lg slider-button\":\"fa fa-pause fa-lg slider-button\"}},{key:\"play\",value:function(){if(!this.props.disabled)if(null!=this.state.intervalId)this.pause();else{var e=setInterval(this.stepForward,this.intervalMilliseconds);this.setState({intervalId:e})}}},{key:\"pause\",value:function(){clearInterval(this.state.intervalId),this.setState({intervalId:null})}},{key:\"stepForward\",value:function(){var e=this,t=this.props,n=t.start,r=t.end,o=t.step,a=t.values;if(!t.disabled){var i=(Array.isArray(a)?a:[a,a+o]).map(function(t){return t+e.increment}),s=i[1]>r?i[0]-n:0;this.props.onChange(i.map(function(e){return e-s}))}}},{key:\"stepBackward\",value:function(){var e=this,t=this.props,n=t.start,r=t.end,o=t.step,a=t.values;if(!t.disabled){var i=(Array.isArray(a)?a:[a,a+o]).map(function(t){return t-e.increment}),s=i[0]<n?r-i[1]:0;this.props.onChange(i.map(function(e){return e+s}))}}},{key:\"formatter\",value:function(e){if(this.props.disabled)return Object(l.b)(\"Data has no time steps\");var t=e;return Array.isArray(e)?e[0]===e[1]&&(t=[e[0]]):t=[e],t.map(function(e){return new Date(e).toUTCString()}).join(\" : \")}},{key:\"render\",value:function(){var e=this.props,t=e.start,n=e.end,r=e.step,a=e.orientation,i=e.reversed,s=e.disabled,u=e.range,c=e.values;return o.a.createElement(\"div\",{className:\"play-slider\"},o.a.createElement(\"div\",{className:\"play-slider-controls padded\"},o.a.createElement(\"i\",{className:\"fa fa-step-backward fa-lg slider-button \",onClick:this.stepBackward}),o.a.createElement(\"i\",{className:this.getPlayClass(),onClick:this.play}),o.a.createElement(\"i\",{className:\"fa fa-step-forward fa-lg slider-button \",onClick:this.stepForward})),o.a.createElement(\"div\",{className:\"play-slider-scrobbler padded\"},o.a.createElement(p.a,{value:u?c:c[0],range:u,formatter:this.formatter,change:this.onChange,min:t,max:n,step:r,orientation:a,reversed:i,disabled:s?\"disabled\":\"enabled\"})))}}])&&y(n.prototype,r),a&&y(n,a),t}();function j(e){return(j=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}v.propTypes=m,v.defaultProps={onChange:function(){},loopDuration:15e3,maxFrames:100,orientation:\"horizontal\",reversed:!1,disabled:!1,range:!0},n.d(t,\"a\",function(){return E});var S={getLayers:i.a.func.isRequired,start:i.a.number.isRequired,end:i.a.number.isRequired,getStep:i.a.func,values:i.a.array.isRequired,aggregation:i.a.bool,disabled:i.a.bool,viewport:i.a.object.isRequired,children:i.a.node,mapStyle:i.a.string,mapboxApiAccessToken:i.a.string.isRequired,setControlValue:i.a.func,onViewportChange:i.a.func,onValuesChange:i.a.func},E=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,(n=!(o=_(t).call(this,e))||\"object\"!==j(o)&&\"function\"!=typeof o?P(r):o).onViewportChange=n.onViewportChange.bind(P(n)),n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o.a.Component),n=t,(r=[{key:\"onViewportChange\",value:function(e){var t=this.props.disabled?w({},e):w({},e,{height:e.height+20});this.props.onViewportChange(t)}},{key:\"render\",value:function(){var e=this.props,t=e.start,n=e.end,r=e.getStep,a=e.disabled,i=e.aggregation,u=e.children,c=e.getLayers,l=e.values,p=e.onValuesChange,f=e.viewport,y=e.setControlValue,b=e.mapStyle,d=e.mapboxApiAccessToken,h=c(l),m=w({},f,{height:a?f.height:f.height-20});return o.a.createElement(\"div\",null,o.a.createElement(s.a,{viewport:m,layers:h,setControlValue:y,mapStyle:b,mapboxApiAccessToken:d,onViewportChange:this.onViewportChange}),!a&&o.a.createElement(v,{start:t,end:n,step:r(t),values:l,range:!i,onChange:p}),u)}}])&&k(n.prototype,r),a&&k(n,a),t}();E.propTypes=S,E.defaultProps={aggregation:!1,disabled:!1,mapStyle:\"light\",setControlValue:function(){},onViewportChange:function(){},onValuesChange:function(){}}},4726:function(e,t,n){},4737:function(e,t){},4738:function(e,t){},4739:function(e,t){},4740:function(e,t){},4743:function(e,t){},4744:function(e,t){},4745:function(e,t){},4746:function(e,t){},4747:function(e,t){},4748:function(e,t){},4749:function(e,t){},4750:function(e,t){},4751:function(e,t){},4752:function(e,t){},4753:function(e,t){},4926:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"getLayer\",function(){return k});var r=n(0),o=n.n(r),a=n(2),i=n.n(a),s=n(4703),u=n(39),c=n(4720),l=n(4719),p=n(4696),f=n(4695),y=n(4707);function b(e){return(b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return o.a.createElement(\"div\",{className:\"deckgl-tooltip\"},o.a.createElement(y.a,{label:\"\".concat(Object(u.b)(\"Longitude and Latitude\"),\": \"),value:\"\".concat(e.object.position[0],\", \").concat(e.object.position[1])}),o.a.createElement(y.a,{label:\"\".concat(Object(u.b)(\"Weight\"),\": \"),value:\"\".concat(e.object.weight)}))}function k(e,t,n,r,o,a,i){var u=e,c=u.color_picker,l=t.data.features.map(function(e){return g({},e,{color:[c.r,c.g,c.b,255*c.a]})});if(u.js_data_mutator){var y=Object(p.a)(u.js_data_mutator);l=y(l)}return null!=i&&i.forEach(function(e){l=l.filter(e)}),new s.h(g({id:\"screengrid-layer-\".concat(u.slice_id),data:l,pickable:!0,cellSizePixels:u.grid_size,minColor:[c.r,c.g,c.b,0],maxColor:[c.r,c.g,c.b,255*c.a],outline:!1,getWeight:function(e){return e.weight||0}},Object(f.a)(u,r,O)))}var _={formData:i.a.object.isRequired,payload:i.a.object.isRequired,setControlValue:i.a.func.isRequired,viewport:i.a.object.isRequired,onAddFilter:i.a.func,setTooltip:i.a.func},P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,(n=!(o=h(t).call(this,e))||\"object\"!==b(o)&&\"function\"!=typeof o?m(r):o).state=t.getDerivedStateFromProps(e),n.getLayers=n.getLayers.bind(m(n)),n.onValuesChange=n.onValuesChange.bind(m(n)),n.onViewportChange=n.onViewportChange.bind(m(n)),n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.a.PureComponent),n=t,a=[{key:\"getDerivedStateFromProps\",value:function(e,t){if(t&&e.payload.form_data===t.formData)return null;var n=e.payload.data.features||[],r=n.map(function(e){return e.__timestamp}),o=e.payload.form_data.time_grain_sqla||e.payload.form_data.granularity||\"P1D\",a=Object(l.a)(r,o);return{start:a.start,end:a.end,getStep:a.getStep,values:a.values,disabled:a.disabled,viewport:e.formData.autozoom?Object(f.b)(e.viewport,n.map(function(e){return e.position})):e.viewport,selected:[],lastClick:0,formData:e.payload.form_data}}}],(r=[{key:\"onValuesChange\",value:function(e){this.setState({values:Array.isArray(e)?e:[e,e+this.state.getStep(e)]})}},{key:\"onViewportChange\",value:function(e){this.setState({viewport:e})}},{key:\"getLayers\",value:function(e){var t=[];return e[0]===e[1]||e[1]===this.end?t.push(function(t){return t.__timestamp>=e[0]&&t.__timestamp<=e[1]}):t.push(function(t){return t.__timestamp>=e[0]&&t.__timestamp<e[1]}),[k(this.props.formData,this.props.payload,this.props.onAddFilter,this.props.setTooltip)]}},{key:\"render\",value:function(){var e=this.props,t=e.formData,n=e.payload,r=e.setControlValue;return o.a.createElement(\"div\",null,o.a.createElement(c.a,{getLayers:this.getLayers,start:this.state.start,end:this.state.end,getStep:this.state.getStep,values:this.state.values,onValuesChange:this.onValuesChange,disabled:this.state.disabled,viewport:this.state.viewport,onViewportChange:this.onViewportChange,mapboxApiAccessToken:n.data.mapboxApiKey,mapStyle:t.mapbox_style,setControlValue:r,aggregation:!0}))}}])&&d(n.prototype,r),a&&d(n,a),t}();P.propTypes=_,P.defaultProps={onAddFilter:function(){},setTooltip:function(){}},t.default=P}}]);","extractedComments":[]}