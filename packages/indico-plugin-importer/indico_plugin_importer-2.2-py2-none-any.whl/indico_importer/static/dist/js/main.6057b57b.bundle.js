!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/static/plugins/importer/dist/",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);i(1);!function(){const t=$T.domain("importer"),e={resourcesExtensionList:{pdf:1,doc:1,docx:1,ppt:1},reportNumberSystems:{invenio:"cds",dummy:"Dummy"},shortMonthsNames:[t.gettext("Jan"),t.gettext("Feb"),t.gettext("Mar"),t.gettext("Apr"),t.gettext("May"),t.gettext("Jun"),t.gettext("Jul"),t.gettext("Aug"),t.gettext("Sep"),t.gettext("Oct"),t.gettext("Nov"),t.gettext("Dec")],minutesToTime:t=>t<=1440?"".concat((t-t%60)/60<10?"0".concat((t-t%60)/60):(t-t%60)/60,":").concat(t%60<10?"0".concat(t%60):t%60):"00:00",compareStartTime:(t,e)=>t.startDate.time>e.startDate.time,sortedKeys(t,e){const i=[];return each(t,function(t){i.push(t)}),i.sort(e)},isPersonEmpty:t=>!t||!t.firstName&&!t.familyName,_sendRequest(e,i,s,n){$.ajax({async:!1,url:e,method:"POST",data:i,success(t,e){$.isFunction(s)&&s(t,e)},error(e){$.isFunction(n)&&n({title:t.gettext("Something went wrong"),message:"{0} ({1})".format(e.statusText.toLowerCase(),e.status),report_url:null})}})}};type("QueueDict",[],{set(t,e){let i=!1;for(const s in this.keySequence)t==this.keySequence[s]&&(i=!0,null!==e?this.keySequence[s]=e:this.keySequence.splice(s,1));i||this.keySequence.push(t),this.dict[t]=e},getKeys(){return this.keySequence},get(t){return this.dict[t]},getValues(){const t=[];for(const e in this.keySequence)t.push(this.get(this.keySequence[e]));return t},getLength(){return this.keySequence.length},clear(){this.keySequence=[],this.dict={}},shiftTop(t){if(t>0){const e=this.keySequence[t];this.keySequence[t]=this.keySequence[t-1],this.keySequence[t-1]=e}},shiftBottom(t){if(t<this.keySequence.length-1){const e=this.keySequence[t];this.keySequence[t]=this.keySequence[t+1],this.keySequence[t+1]=e}}},function(){this.keySequence=[],this.dict={}}),type("ImportDialog",["ExclusivePopupWithButtons","PreLoadHandler"],{_preload:[function(t){const e=this;$.ajax({url:build_url(ImporterPlugin.urls.importers,{}),type:"GET",dataType:"json",success(i){handleAjaxError(i)||(e.importers=i,t.set(!0))}})}],_hideLists(){this.importerList.hide(),this.timetableList.hide(),this.emptySearchDiv.show()},_showLists(){this.importerList.show(),this.timetableList.refresh(),this.timetableList.show(),this.emptySearchDiv.hide()},drawContent(){const e=this,i=function(){e.importerList.search(r.dom.value,n.dom.value,20,[function(){e._showLists()}])},s=Html.input("button",{},t.gettext("search"));s.observeClick(i);var n=Html.select({});for(const t in this.importers)n.append(Html.option({value:t},this.importers[t]));var r=Html.input("text",{});r.observeEvent("keypress",function(t){13==t.keyCode&&i()}),this.emptySearchDiv=new PresearchContainer(this.height,function(){e._showLists()});const o=function(){e.importerList.getSelectedList().getLength()>0&&e.timetableList.getSelection()?e.insertButton.disabledButtonWithTooltip("enable"):e.insertButton.disabledButtonWithTooltip("disable")};return this.importerList=new ImporterList([],{height:this.height-80,width:this.width/2-20,cssFloat:"left"},"entryList","entryListSelected",!0,o),this.timetableList=new TableTreeList(this.topTimetable,{height:this.height-80,width:this.width/2-20,cssFloat:"right"},"treeList","treeListDayName","treeListEntry",!0,o),Html.div({},Html.div({className:"importDialogHeader",style:{width:pixels(.9*this.width)}},r,s," ",t.gettext("in")," ",n),this.emptySearchDiv.draw(),this.importerList.draw(),this.timetableList.draw())},_getButtons(){const e=this;return[[t.gettext("Proceed..."),function(){const t=e.timetableList.getSelection(),i=e.importerList.getSelectedList(),s=e.importerList.getLastImporter();new ImporterDurationDialog(i,t,e.confId,e.timetable,s,function(t){t||(e._hideLists(),e.timetableList.clearSelection(),e.importerList.clearSelection(),e.emptySearchDiv.showAfterSearch()),e.reloadPage=!0})}],[t.gettext("Close"),function(){e.close()}]]},draw(){return this.insertButton=this.buttons.eq(0),this.insertButton.disabledButtonWithTooltip({tooltip:t.gettext("Please select contributions to be added and their destination."),disabled:!0}),this.ExclusivePopupWithButtons.prototype.draw.call(this,this.drawContent())},_onClose(t){return this.reloadPage&&(location.reload(),IndicoUI.Dialogs.Util.progress()),self.ExclusivePopupWithButtons.prototype._onClose.call(this,t)}},function(e){const i=this;this.ExclusivePopupWithButtons(t.gettext("Import Entries")),this.timetable=e||window.timetable,this.topTimetable=this.timetable.parentTimetable?this.timetable.parentTimetable:this.timetable,this.confId=this.topTimetable.contextInfo.id,this.height=document.body.clientHeight-200,this.width=document.body.clientWidth-200,this.PreLoadHandler(this._preload,function(){i.open()}),this.execute()}),type("PresearchContainer",[],{show(){this.contentDiv.dom.style.display="block"},hide(){this.contentDiv.dom.style.display="none"},showAfterSearch(){this.firstSearch.dom.style.display="none",this.afterSearch.dom.style.display="inline"},draw(){this.firstSearch=Html.span({style:{display:"inline"}},t.gettext("Please type your search phrase and press 'search'."));const e=Html.span({className:"fake-link"},t.gettext("here"));return e.observeClick(this.afterSearchAction),this.afterSearch=Html.span({style:{display:"none"}},t.gettext("Your entries were inserted successfully. Please specify a new query or click")," ",e," ",t.gettext("to see the previous results.")),this.contentDiv=Html.div({className:"presearchContainer",style:{height:pixels(this.height-130)}},this.firstSearch,this.afterSearch),this.contentDiv}},function(t,e){this.height=t,this.afterSearchAction=e}),type("ImporterDurationDialog",["ExclusivePopupWithButtons","PreLoadHandler"],{_preload:[function(t){const e=this;if("Contribution"==this.destination.entryType)e.info.set("startTime",this.destination.startDate.time.substr(0,5)),t.set(!0);else{let i;"Day"==this.destination.entryType&&(i=build_url(ImporterPlugin.urls.day_end_date,{importer_name:"indico_importer",confId:this.confId})),"Session"==this.destination.entryType&&(i=build_url(ImporterPlugin.urls.block_end_date,{importer_name:"indico_importer",confId:this.confId,entry_id:this.destination.scheduleEntryId})),$.ajax({url:i,data:{sessionId:this.destination.sessionId,slotId:this.destination.sessionSlotId,selectedDay:this.destination.startDate.date.replace(/-/g,"/")},success(i){e.info.set("startTime",i),t.set(!0)}})}}],drawContent(){const e=Html.input("text",{},this.destination.contribDuration?this.destination.contribDuration:20),i=Html.input("text",{}),s=Html.input("checkbox",{});return this.parameterManager.add(e,"unsigned_int",!1),this.parameterManager.add(i,"time",!1),$B(this.info.accessor("duration"),e),$B(i,this.info.accessor("startTime")),$B(this.info.accessor("redirect"),s),IndicoUtil.createFormFromMap([[t.gettext("Duration time of every inserted contribution:"),e],[t.gettext("Start time of the first contribution:"),i],[t.gettext("Show me the destination:"),s]])},_performRedirect(){let t=this.destination.startDate.date.replace(/-/g,"");"Session"==this.destination.entryType&&(t+=".".concat(this.destination.id)),location.hash=t,location.reload()},_getUrl(t,e,i){const s={confId:t};return"Day"==i.entryType?(s.day=e,build_url(ImporterPlugin.urls.add_contrib,s)):"Session"==i.entryType?(s.day=e,s.session_block_id=i.sessionSlotId,build_url(ImporterPlugin.urls.add_contrib,s)):"Contribution"==i.entryType?(s.contrib_id=i.contributionId,build_url(ImporterPlugin.urls.create_subcontrib_rest,s)):void 0},_personLinkData(t){const i=0,s=1,n=2,r=function(t,e,i){return void 0===i&&(i=!!t.isSpeaker),$.extend({authorType:e,isSpeaker:i,isSubmitter:!1},t)},o=[];if(e.isPersonEmpty(t.primaryAuthor)||o.push(r(t.primaryAuthor,s)),e.isPersonEmpty(t.secondaryAuthor)||o.push(r(t.secondaryAuthor,n)),e.isPersonEmpty(t.speaker)||o.push(r(t.speaker,i,!0)),!this.timetable.eventInfo.isConference){const t=[];return $.each(o,function(){this.isSpeaker&&(this.authorType=i,t.push(this))}),t}return o},_addContributionMaterial(t,i,s,n,r){let o;o=void 0!==r?build_url(ImporterPlugin.urls.add_link,{confId:s,contrib_id:n,subcontrib_id:r,object_type:"subcontribution"}):build_url(ImporterPlugin.urls.add_link,{confId:s,contrib_id:n,object_type:"contribution"});const a={csrf_token:$("#csrf-token").attr("content"),link_url:i,title:t,folder:"__None",acl:"[]"};e._sendRequest(o,a)},_addReference(t,i,s,n,r){let o;o=void 0!==r?build_url(ImporterPlugin.urls.create_subcontrib_reference_rest,{confId:s,contrib_id:n,subcontrib_id:r}):build_url(ImporterPlugin.urls.create_contrib_reference_rest,{confId:s,contrib_id:n});const a={csrf_token:$("#csrf-token").attr("content"),type:t,value:i};e._sendRequest(o,a)},_getButtons(){const i=this;return[[t.gettext("Insert"),function(){if(!i.parameterManager.check())return;let t=60*parseFloat(i.info.get("startTime").split(":")[0])+parseFloat(i.info.get("startTime").split(":")[1]);const s=parseInt(i.info.get("duration"));if(t+s*i.entries.getLength()<=1440){let n=!1;const r=IndicoUI.Dialogs.Util.progress(),o=function(t){t&&(n=!0,showErrorDialog(t))},a=i.destination.startDate.date.replace(/-/g,"/");each(i.entries.getValues(),function(n){n=n.getAll();const r=e.minutesToTime(t),l={csrf_token:$("#csrf-token").attr("content"),title:n.title?n.title:"Untitled",description:n.summary,duration:[s,"minutes"],references:"[]"};"Contribution"==i.destination.entryType?$.extend(l,{speakers:Json.write(i._personLinkData(n))}):$.extend(l,{time:r,person_link_data:Json.write(i._personLinkData(n)),location_data:'{"address": "", "inheriting": true}',type:"__None"});const c=i._getUrl(i.confId,a,i.destination);e._sendRequest(c,l,function(t){const s=n.materials||{},r=n.reportNumbers||[],o=e.reportNumberSystems[i.importer];if("Contribution"==i.destination.entryType)$.each(s,function(e,s){i._addContributionMaterial(e,s,t.event_id,t.contribution_id,t.id)}),$.each(r,function(e,s){i._addReference(o,s,i.confId,t.contribution_id,t.id)});else{const e=t.entries[0].entry;$.each(s,function(t,s){i._addContributionMaterial(t,s,i.confId,e.contributionId)}),$.each(r,function(t,s){i._addReference(o,s,i.confId,e.contributionId)})}},o),t+=s}),i.successFunction&&i.successFunction(i.info.get("redirect")),i.info.get("redirect")&&i._performRedirect(),i.close(),r()}else new WarningPopup("Warning","Some contributions will end after 24:00. Please modify start time and duration.").open()}],[t.gettext("Cancel"),function(){i.close()}]]},draw(){return this.ExclusivePopupWithButtons.prototype.draw.call(this,this.drawContent())}},function(e,i,s,n,r,o){const a=this;this.ExclusivePopupWithButtons(t.gettext("Adjust entries")),this.confId=s,this.entries=e,this.destination=i,this.timetable=n,this.successFunction=o,this.importer=r,this.parameterManager=new IndicoUtil.parameterManager,this.info=new WatchObject,this.PreLoadHandler(this._preload,function(){a.open()}),this.execute()}),type("ImporterListWidget",["SelectableListWidget"],{clearList(){this.SelectableListWidget.prototype.clearList.call(this),this.recordDivs=[]},clearSelection(){this.SelectableListWidget.prototype.clearSelection.call(this),this.selectedObserver(this.selectedList)},getLength(){return this.recordDivs.length},getLastQuery(){return this.lastSearchQuery},getLastImporter(){return this.lastSearchImporter},isMoreToImport(){return this.moreToImport},_searchBase(t,e,i,s,n){$.ajax({url:build_url(ImporterPlugin.urls.import_data,{importer_name:e,query:t,size:i+1}),type:"POST",dataType:"json",complete:IndicoUI.Dialogs.Util.progress(),success(t){handleAjaxError(t)||(s(t.records),_.each(n,function(t){t()}))}}),this.lastSearchImporter=e,this.lastSearchQuery=t,this.lastSearchSize=i},search(t,e,i,s){const n=this;this._searchBase(t,e,i,function(t){n.clearList();let e=0;n.moreToImport=!1;for(const s in t){if(i==e++){n.moreToImport=!0;break}n.set(s,$O(t[s]))}},s)},append(t,e){const i=this,s=this.getLength();this._searchBase(this.getLastQuery(),this.getLastImporter(),this.getLength()+t,function(e){let n=0;i.moreToImport=!1;for(const r in e){if(s+t==n){i.moreToImport=!0;break}s-1<n&&i.set(r,$O(e[r])),++n}},e)},_getPersonString:t=>"".concat(t.firstName," ").concat(t.familyName).concat(t.affiliation?" (".concat(t.affiliation,")"):""),_drawSelectionIndex(){const t=this,e=Html.div({className:"entryListIndex",style:{display:"none",cssFloat:"left"}}),i=function(t){return t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1};return e.observeEvent("contextmenu",i),e.observeEvent("mousedown",i),e.observeEvent("click",i),e.observeEvent("mouseup",function(i){if(i.cancelBubble=!0,null===i.which)var s=1==i.button?"left":"notLeft";else s=1==i.which?"left":"notLeft";const n=parseInt(e.dom.innerHTML.substr(0,e.dom.innerHTML.length-2)-1);"left"==s?t.selectedList.shiftTop(n):t.selectedList.shiftBottom(n),t.observeSelection(t.selectedList)}),e},_convertMaterials(t){const e={};return each(t,function(t){const i=t.name||"";e[i]||(e[i]=[]),e[i].push(t.url)}),e},_getResourceName(t){const i=t.split(".");return i[i.length-1]in e.resourcesExtensionList?i[i.length-1]:"resource"},_drawItem(i){const s=this,n=Html.div({}),r=i.key;if((i=i.get()).get("reportNumbers")){const e=Html.div({},Html.em({},t.gettext("Report number(s)")),":");each(i.get("reportNumbers"),function(t){e.append(" ".concat(t))}),n.append(e)}if(i.get("title")&&n.append(Html.div({},Html.em({},t.gettext("Title")),": ",i.get("title"))),i.get("meetingName")&&n.append(Html.div({},Html.em({},t.gettext("Meeting")),": ",i.get("meetingName"))),e.isPersonEmpty(i.get("primaryAuthor"))||n.append(Html.div({},Html.em({},t.gettext("Primary author")),": ",this._getPersonString(i.get("primaryAuthor")))),e.isPersonEmpty(i.get("secondaryAuthor"))||n.append(Html.div({},Html.em({},t.gettext("Secondary author")),": ",this._getPersonString(i.get("secondaryAuthor")))),e.isPersonEmpty(i.get("speaker"))||n.append(Html.div({},Html.em({},t.gettext("Speaker")),": ",this._getPersonString(i.get("speaker")))),i.get("summary")){const e=i.get("summary");if(e.length<200)n.append(Html.div({},Html.em({},t.gettext("Summary")),": ",e));else{const i=Html.span({},e.substr(0,200)),r=Html.span({style:{display:"none"}},e.substr(200)),a=Html.span({className:"fake-link"},t.gettext(" (show all)"));a.observeClick(function(t){r.dom.style.display="inline",a.dom.style.display="none",o.dom.style.display="inline",t.cancelBubble=!0,s.observeSelection(s.selectedList)});var o=Html.span({className:"fake-link",style:{display:"none"}},t.gettext(" (hide)"));o.observeClick(function(t){r.dom.style.display="none",a.dom.style.display="inline",o.dom.style.display="none",t.cancelBubble=!0,s.observeSelection(s.selectedList)});const l=Html.div({},Html.em({},t.gettext("Summary")),": ",i,a,r,o);n.append(l)}}if(i.get("place")&&n.append(Html.div({},Html.em({},t.gettext("Place")),": ",i.get("place"))),i.get("materials")){i.set("materials",this._convertMaterials(i.get("materials")));const e=Html.div({},Html.em({},t.gettext("Materials")),":");for(const t in i.get("materials")){var a=Html.div({},t?"".concat(t,":"):"");each(i.get("materials")[t],function(t){const e=Html.a({href:t,target:"_new"},s._getResourceName(t));e.observeClick(function(t){t.cancelBubble=!0}),a.append(" "),a.append(e)}),e.append(a)}n.append(e)}return n.append(this._drawSelectionIndex()),this.recordDivs[r]=n,n},observeSelection(e){const i=this;for(const t in this.recordDivs){const e=this.recordDivs[t];e.dom.lastChild.style.display="none",e.dom.lastChild.innerHTML=""}let s=1;each(e.getKeys(),function(e){const n=i.recordDivs[e];switch(n.dom.lastChild.style.display="block",n.dom.lastChild.style.top=pixels(-(n.dom.clientHeight+23)/2),n.dom.lastChild.innerHTML=s,s){case 1:n.dom.lastChild.innerHTML+=t.gettext("st");break;case 2:n.dom.lastChild.innerHTML+=t.gettext("nd");break;case 3:n.dom.lastChild.innerHTML+=t.gettext("rd");break;default:n.dom.lastChild.innerHTML+=t.gettext("th")}++s})}},function(t,e,i,s){this.SelectableListWidget(function(t){this.observeSelection(t),s&&s(t)},!1,e,i),this.selectedList=new QueueDict,this.recordDivs={};for(const e in t)this.set(e,$O(t[e]))}),type("ImporterList",[],{show(){this.contentDiv.dom.style.display="block"},hide(){this.contentDiv.dom.style.display="none"},getSelectedList(){return this.importerWidget.getSelectedList()},clearSelection(){this.importerWidget.clearSelection()},getLastImporter(){return this.importerWidget.getLastImporter()},handleContent(){this.descriptionDiv&&this.emptyDescriptionDiv&&(0===this.importerWidget.getLength()?(this.descriptionDiv.dom.style.display="none",this.emptyDescriptionDiv.dom.style.display="block",this.moreEntriesDiv.dom.style.display="none"):(this.entriesCount.dom.innerHTML=t.ngettext("One entry was found. ","{0} entries were found. ",this.importerWidget.getLength()).format(this.importerWidget.getLength()),this.descriptionDiv.dom.style.display="block",this.emptyDescriptionDiv.dom.style.display="none",this.importerWidget.isMoreToImport()?this.moreEntriesDiv.dom.style.display="block":this.moreEntriesDiv.dom.style.display="none"))},_appendCallbacks(t){const e=this;return t?t.push(function(){e.handleContent()}):t=[function(){e.handleContent()}],t},search(t,e,i,s){this.importerWidget.search(t,e,i,this._appendCallbacks(s))},append(t,e){this.importerWidget.append(t,this._appendCallbacks(e))},draw(){const t=this._drawImporterDiv();this.contentDiv=Html.div({className:"entryListContainer"},this._drawHeader(),t);for(const e in this.style)this.contentDiv.setStyle(e,this.style[e]),"height"==e&&t.setStyle("height",this.style[e]-76);return this.hidden&&(this.contentDiv.dom.style.display="none"),this.contentDiv},_drawHeader(){return this.entriesCount=Html.span({},"0"),this.descriptionDiv=Html.div({className:"entryListDesctiption"},this.entriesCount,t.gettext("Please select the results you want to insert.")),this.emptyDescriptionDiv=Html.div({className:"entryListDesctiption"},t.gettext("No results were found. Please change the search phrase.")),Html.div({},Html.div({className:"entryListHeader"},t.gettext("Step 1: Search results:")),this.descriptionDiv,this.emptyDescriptionDiv)},_drawImporterDiv(){const e=this;return this.moreEntriesDiv=Html.div({className:"fake-link",style:{paddingBottom:pixels(15),textAlign:"center",clear:"both",marginTop:pixels(15)}},t.gettext("more results")),this.moreEntriesDiv.observeClick(function(){e.append(20)}),Html.div({style:{overflow:"auto"}},this.importerWidget.draw(),this.moreEntriesDiv)}},function(t,e,i,s,n,r){this.importerWidget=new ImporterListWidget(t,i,s,r),this.style=e,this.hidden=n}),type("TimetableListWidget",["ListWidget"],{setSelection(t,e){this.selectedDiv&&(this.selectedDiv.dom.style.fontWeight="normal",this.selectedDiv.dom.style.boxShadow="",this.selectedDiv.dom.style.MozBoxShadow=""),this.selected!=t?(this.selectedDiv=e,this.selected=t,this.selectedDiv.dom.style.fontWeight="bold",this.selectedDiv.dom.style.boxShadow="3px 3px 15px #000000",this.selectedDiv.dom.style.MozBoxShadow="3px 3px 15px #000000"):(this.selected=null,this.selectedDiv=null),this.observeSelection&&this.observeSelection()},clearSelection(){this.selectedDiv&&(this.selectedDiv.dom.style.backgroundColor=""),this.selected=null,this.selectedDiv=null,this.observeSelection&&this.observeSelection()},getSelection(){return this.selected},_drawItem(t,i){const s=this;switch(i=i||0,t.entryType){case"Contribution":t.color="#F8F2E8",t.textColor="#000000";case"Session":var n=Html.div({className:"treeListEntry",style:{backgroundColor:t.color,color:t.textColor}},t.title+(t.startDate&&t.endDate?" (".concat(t.startDate.time.substr(0,5)," - ").concat(t.endDate.time.substr(0,5),")"):"")),r=e.sortedKeys(t.entries,e.compareStartTime);break;case"Break":if(!this.displayBreaks)return null;n=Html.div({className:"treeListEntry",style:{backgroundColor:t.color,color:t.textColor}},t.title+(t.startDate&&t.endDate?" (".concat(t.startDate.time.substr(0,5)," - ").concat(t.endDate.time.substr(0,5),")"):"")),r=e.sortedKeys(t.entries,e.compareStartTime);break;case void 0:t.entryType="Day",t.startDate={date:"".concat(t.key.substr(0,4),"-").concat(t.key.substr(4,2),"-").concat(t.key.substr(6,2))},t.color="#FFFFFF",t.textColor="#000000";n=Html.div({className:"treeListDayName"},"".concat(t.key.substr(6,2)," ").concat(e.shortMonthsNames[parseFloat(t.key.substr(4,2))-1]," ").concat(t.key.substr(0,4))),r=e.sortedKeys(t.get().getAll(),e.compareStartTime)}n.observeClick(function(){s.setSelection(t,n)});const o=Html.div({style:{marginLeft:pixels(20*i),clear:"both",padding:pixels(5)}},n),a=Html.div({style:{display:"none"}});for(const t in r)a.append(this._drawItem(r[t],i+1));return r.length&&(n.append(this._drawShowHideButtons(a)),o.append(a)),o},_drawShowHideButtons(t){const e=Html.img({src:imageSrc("collapsd"),style:{display:"block"}}),i=Html.img({src:imageSrc("exploded"),style:{display:"none"}});return e.observeClick(function(s){t.dom.style.display="block",e.dom.style.display="none",i.dom.style.display="block",s.cancelBubble=!0}),i.observeClick(function(s){t.dom.style.display="none",e.dom.style.display="block",i.dom.style.display="none",s.cancelBubble=!0}),Html.div({className:"expandButtonsDiv"},e,i)},_insertFromTimetable(){const t=this,e=this.timetable.getData();each(this.timetable.sortedKeys,function(i){t.set(i,$O(e[i]))})},refresh(){this.clear(),this._insertFromTimetable()}},function(t,e,i,s,n,r){this.timetable=t,this.displayBreaks=r,this.observeSelection=n;this.ListWidget(e),this._insertFromTimetable()}),type("TableTreeList",[],{show(){this.contentDiv.dom.style.display="block"},hide(){this.contentDiv.dom.style.display="none"},getSelection(){return this.timetableList.getSelection()},clearSelection(){return this.timetableList.clearSelection()},setSelection(t,e){return this.timetableList.setSelection(t,e)},refresh(){this.timetableList.refresh()},draw(){this.contentDiv=Html.div({className:"treeListContainer"},Html.div({className:"treeListHeader"},t.gettext("Step 2: Choose destination:")),Html.div({className:"treeListDescription"},t.gettext("Please select the place in which the contributions will be inserted.")));const e=Html.div({style:{overflow:"auto"}},this.timetableList.draw());for(const t in this.style)this.contentDiv.setStyle(t,this.style[t]),"height"==t&&e.setStyle("height",this.style[t]-76);return this.contentDiv.append(e),this.hidden&&(this.contentDiv.dom.style.display="none"),this.contentDiv}},function(t,e,i,s,n,r,o){this.timetableList=new TimetableListWidget(t,i,s,n,o),this.style=e,this.hidden=r}),$(function(){$("#timetable").on("click",".js-create-importer-dialog",function(){const t=$(this).data("timetable");new ImportDialog(t)})})}()},function(t,e,i){}]);
//# sourceMappingURL=main.6057b57b.bundle.js.map