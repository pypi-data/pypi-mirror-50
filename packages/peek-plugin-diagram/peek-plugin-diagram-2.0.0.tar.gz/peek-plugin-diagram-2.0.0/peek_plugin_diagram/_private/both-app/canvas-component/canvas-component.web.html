<div>

    <pl-diagram-view-toolbar *ngIf="coordSetKey != null && !isEditing()"
                             [config]="config"
                             [coordSetKey]="coordSetKey"
                             [modelSetKey]="modelSetKey"
                             (openPrintPopup)="showPrintPopup=true"></pl-diagram-view-toolbar>

    <div #edittoolbar class="">
        <pl-diagram-edit-toolbar
                (openPrintPopup)="showPrintPopup=true"
                *ngIf="isEditing()"
                [canvasEditor]="editor"></pl-diagram-edit-toolbar>
    </div>

    <pl-diagram-edit-props-toolbar
            *ngIf="isEditing()"
            [canvasEditor]="editor">

    </pl-diagram-edit-props-toolbar>


    <!-- This is the properties panel that appears, it can have dynamic properties
    or shape properties -->

    <div #editprops>
        <pl-diagram-edit-props
                *ngIf="isEditing()"
                [canvasEditor]="editor"></pl-diagram-edit-props>
    </div>


    <pl-diagram-view-select-layers
            [model]="model"
            [coordSetKey]="coordSetKey"
            [modelSetKey]="modelSetKey"></pl-diagram-view-select-layers>

    <pl-diagram-view-select-branches
            [config]="config"
            [coordSetKey]="coordSetKey"
            [modelSetKey]="modelSetKey"></pl-diagram-view-select-branches>

    <pl-diagram-start-edit
            [coordSetKey]="coordSetKey"
            [modelSetKey]="modelSetKey"
            [canvasEditor]="editor"></pl-diagram-start-edit>

    <pl-diagram-print
            *ngIf="showPrintPopup"
            (closePopup)="showPrintPopup=false"></pl-diagram-print>

    <div class="pl-canvas-container">
        <p class="canvas-status-bar ">{{mouseInfo()}}</p>

        <canvas #canvas class="canvas " tabindex='1'>
            Sorry, your browser doesn't support the &lt;canvas&gt; element.
        </canvas>
    </div>

</div>